<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itwillbs.project.mapper.In_ScheduleMapper">
<!-- 입고 예정리스트 -->
<select id="selectInscheduleList" resultType="com.itwillbs.project.vo.InScheduleVO">
SELECT * FROM in_schedule
</select>
<!-- 입고예정물품 등록 -->
<insert id="insertInschedule">
INSERT INTO in_schedule
VALUES(
#{IN_SCHEDULE_CD},
#{IN_TYPE_CD},
#{BUSINESS_NO},
#{CUST_NAME},
#{EMP_NUM},
#{EMP_NAME},
#{IN_DATE},
#{REMARKS},
0
)
</insert>

<!-- 진행 중 목록 조회 -->
<select id="selectInprogressList" resultType="com.itwillbs.project.vo.InScheduleVO">
SELECT *
FROM in_schedule
WHERE IN_COMPLETE=1

</select>

<!-- 입고 수정 -->
<update id="updateInschedule">
UPDATE in_schedule 
SET 
IN_SCHEDULE_CD = #{IN_SCHEDULE_CD},
IN_TYPE_CD=#{IN_TYPE_CD},
<!-- 보낸곳명 -->
EMP_NUM=#{EMP_NUM},
PRODUCT_NAME=#{PRODUCT_NAME},
IN_DATE=#{IN_DATE},
WHERE
IN_SCHEDULE_CD = #{IN_SCHEDULE_CD}



</update>

<!-- <select id="selectProcessingList" resultType="com.itwillbs.project.vo.InScheduleVO"> -->
<!-- SELECT * FROM in_schedule -->
<!-- WHERE in_complete=0 -->

<!-- </select> -->

<select id="selectCode" resultType="integer">
SELECT 
IFNULL(MAX(substring(in_schedule_cd,10)),0)
FROM in_schedule
</select>

<insert id="insertOutProduct">
INSERT INTO IN_SCHEDULE_PER_PRODUCT VALUES(
#{IN_SCHEDULE_CD}
,#{PRODUCT_CD}
,#{PRODUCT_NAME}
,#{PRODUCT_SIZE}
,#{IN_SCHEDULE_QTY}
,#{IN_QTY}
,#{IN_DATE}
,#{REMARKS}
,#{STOCK_CD}
,0
)

</insert>

</mapper>