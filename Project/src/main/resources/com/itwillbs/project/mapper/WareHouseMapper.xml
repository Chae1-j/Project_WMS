<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itwillbs.project.mapper.WareHouseMapper">
	<!-- 상품등록 -->
	<insert id="insertWh">
		INSERT INTO warehouse
			VALUES(
				#{wh_cd},
				#{wh_name},
				#{wh_gubun},
				#{wh_location},
				#{wh_addr},
				#{wh_tel},
				#{wh_man_name},
				#{wh_use},
				#{remarks},
				#{post_no}
			)
	</insert>
	<!-- 창고 조회 목록  -->
	<select id="getwhList" resultType="com.itwillbs.project.vo.WareHouseVO">
		SELECT * 
			FROM warehouse
			ORDER BY abs(wh_cd)
	</select>
	<!-- 창고 상세 -->
	<select id="getWarehouse" resultType="com.itwillbs.project.vo.WareHouseVO">
		SELECT * 
			FROM warehouse
			WHERE wh_cd = #{wh_cd}
	</select>
	<!-- 창고 상세 -->
	<select id="getWarehouseName" resultType="com.itwillbs.project.vo.WareHouseVO">
		SELECT * 
			FROM warehouse
			WHERE wh_cd=#{wh_cd} AND wh_name=#{wh_name}
	</select>
	<!-- 창고 수정 작업 -->
	<update id="whModify">
		UPDATE warehouse
			SET 
				wh_cd = #{wh.wh_cd},
				wh_name = #{wh.wh_name},
				wh_gubun = #{wh.wh_gubun},
				wh_location = #{wh.wh_location},
				wh_addr = #{wh.wh_addr},
				wh_tel = #{wh.wh_tel},
				wh_man_name = #{wh.wh_man_name},
				wh_use = #{wh.wh_use},
				remarks = #{wh.remarks},
				post_no = #{wh.post_no}
			WHERE wh_cd = #{wh_cd}	
	</update>
	
	<select id="getDB_wh_cd" resultType="int">
		SELECT COUNT(*)
			FROM warehouse
			WHERE wh_cd = #{wh_cd}
	</select>
	
	<insert id="WhAreaInsert">
		INSERT INTO wh_area
			VALUES(
				#{wh_cd},
				#{wh_area},
				0,
				#{wh_cd},
				0+1
			)
	</insert>
	
	<select id="getwhAreaList" resultType="com.itwillbs.project.vo.WareHouseVO">
		SELECT * 
		FROM  wh_area
	</select>
	
	<delete id="WhAreaDelte">
		DELETE FROM wh_area
		WHERE wh_area_cd=#{wh_area_cd}
	</delete>
</mapper>
