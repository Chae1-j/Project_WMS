<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itwillbs.project.mapper.Out_ScheduleMapper">
	
	<select id="selectProList" resultType="com.itwillbs.project.vo.ProductVO">
		SELECT *
			FROM product
			WHERE product_name LIKE '%${keyword}%'
	</select>
	
	<!-- 출고예정목록 조회  -->
	<select id="selectOutScheduleList" resultType="com.itwillbs.project.vo.OutScheduleVO">
		SELECT *
			FROM out_schedule
	</select>
	
	<!-- 출고예정목록 조회 - 상품별 -->
	<select id="selectOutProdList" resultType="com.itwillbs.project.vo.OutSchedulePerProductVO">
		SELECT *
			FROM out_schedule_per_product
			WHERE out_schedule_cd = #{out_schedule_cd}
	</select>
	
	<!-- 출고예정 - 진행상황 변경 -->
	<update id="updateStatus">
		UPDATE out_schedele
			SET 
	</update>
		
	<select id="selectStoList" resultType="com.itwillbs.project.vo.StockVo">
		SELECT *
			FROM stock
			WHERE product_cd LIKE '%${keyword}%'

	</select>
	
	
	<select id="selectCode" resultType="integer">
		SELECT 
			IFNULL(MAX(substring(out_schedule_cd, 10)),0) 
			FROM out_schedule;
	</select>
	
	
	<insert id="insertSchedule">
		INSERT
			INTO out_schedule VALUES(
				#{out_schedule_cd}
				,#{business_no}
				,#{cust_name}
				,#{emp_num}
				,#{emp_name}
				,#{out_date}
				,#{remarks}
				,#{out_category}
				,0
			)
	</insert>
	
	<insert id="insertOutProduct">
		INSERT 
			INTO out_schedule_per_product VALUES(
				#{out_schedule_cd}
				,#{product_cd}
				,#{product_name}
				,#{product_size}
				,#{out_schedule_qty}
				,#{out_qty}
				,#{out_date}
				,#{remarks_pro}
				,#{stock_cd}
				,0
			)
	</insert>
</mapper>
